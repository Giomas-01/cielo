<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Culminazione della Luna - Milano (1 Feb 2025)</title>
    <script src="https://cdn.jsdelivr.net/npm/astro.js@1.0.0/dist/astro.min.js"></script>
</head>
<body>
    <h1>Culminazione della Luna - Milano (1 Feb 2025)  15:35</h1>
    <p id="culminationTime">Caricamento...</p>

    <script>
        // Definiamo le coordinate per Milano
        const latitude = 45.45;
        const longitude = 9.19;
        const date = new Date('2025-02-01T00:00:00Z'); // 1 Febbraio 2025

        // Funzione per calcolare la culminazione della Luna usando Astro.js
        function calculateMoonCulmination() {
            // Calcoliamo la posizione della Luna (ascensione retta e declinazione)
            const moonPosition = Astro.moon(date);

            // Calcoliamo l'ora siderea per Milano
            const siderealTime = Astro.sideralTime(date, longitude);

            // Calcoliamo la culminazione della Luna, che avviene quando l'ascensione retta della Luna è uguale all'ora siderea
            const culminationRA = moonPosition.ra;
            const culminationTime = siderealTime - culminationRA;

            // Convertiamo il risultato in ore locali
            const culminationDate = new Date(date.getTime() + (culminationTime * 3600 * 1000)); // Millisecondi

            // Ora della culminazione in formato leggibile
            const hours = culminationDate.getUTCHours();
            const minutes = culminationDate.getUTCMinutes();
            const timeString = `${hours}:${minutes < 10 ? '0' + minutes : minutes}`;

            // Mostriamo l'orario di culminazione
            document.getElementById("culminationTime").textContent = `Culminazione della Luna: ${timeString} UTC (Milano Time)`;
        }

        // Calcoliamo la culminazione quando la pagina è pronta
        window.onload = calculateMoonCulmination;
    </script>
</body>
</html>
