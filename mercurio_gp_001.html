function calculateMonthlyMercuryTimes() {
    const latitude = parseFloat(document.getElementById('latitude').value);
    const longitude = parseFloat(document.getElementById('longitude').value);
    const monthYearInput = document.getElementById('monthYear').value;

    // Verifica i valori di input
    if (isNaN(latitude) || isNaN(longitude) || !monthYearInput) {
        alert("Inserisci valori validi per latitudine, longitudine e mese-anno.");
        return;
    }

    const [month, year] = monthYearInput.split('-').map(Number);
    if (isNaN(month) || isNaN(year) || month < 1 || month > 12) {
        alert("Inserisci un mese e un anno validi nel formato MM-YYYY.");
        return;
    }

    const resultsBody = document.getElementById('resultsBody');
    resultsBody.innerHTML = '';

    const daysInMonth = new Date(year, month, 0).getDate();
    for (let day = 1; day <= daysInMonth; day++) {
        const date = new Date(year, month - 1, day);
        const mercuryPosition = getMercuryPosition(date, latitude, longitude); // Funzione da definire in astrojs.js

        const sunriseLocal = formatTime(mercuryPosition.sunrise);
        const solarNoonLocal = formatTime(mercuryPosition.solarNoon);
        const sunsetLocal = formatTime(mercuryPosition.sunset);

        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${date.toLocaleDateString('it-IT')}</td>
            <td>${sunriseLocal}</td>
            <td>${solarNoonLocal}</td>
            <td>${sunsetLocal}</td>
        `;
        resultsBody.appendChild(row);
    }
}
