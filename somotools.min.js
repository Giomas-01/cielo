!function(){function t(t){return t=a(t,1*It)}function e(t){return t=a(t,2*It)}function a(t,e){return t-Math.floor(t/e)*e}function n(t){return Math.round(10*t)/10}function i(t){return T=m(t),(125.04-1934.136*T)*jt}function s(t){return T=m(t),omega=i(t),r(t)-.00569*jt-.00478*jt*Math.sin(omega)}function o(t){return T=m(t),(280.46646+36000.76983*T+3032e-7*Math.pow(T,2))*jt}function r(t){return o(t)+l(t)}function h(t){return T=m(t),(357.52911+35999.05029*T-1537e-7*Math.pow(T,2))*jt%(360*jt)}function c(t){return T=m(t),h(t)+l(t)}function l(t){return T=m(t),M=h(t),(1.914602-.004817*T-14e-6*Math.pow(T,2))*jt*Math.sin(M)+(.019993-101e-6*T)*jt*Math.sin(2*M)+289e-6*jt*Math.sin(3*M)}function d(t){return T=m(t),.016708634-42037e-9*T-1.267e-7*Math.pow(T,2)}function g(t){return eccentricity=d(t),trueAnomaly=c(t),1.000001018*Zt*(1-Math.pow(eccentricity,2))/(1+eccentricity*Math.cos(trueAnomaly))}function m(t){return(w(t)-2451545*kt)/_t}function p(t){var e,a,n,M,i,s=Math.floor(t),o=t-s,r=2299161;if(s>=r){var h=Math.floor((s-1867216-.25)/36524.25);e=s+1+h-Math.floor(.25*h)}else e=s;var u=o+.5;u>=1&&(u-=1,++e),a=e+1524,n=Math.floor(6680+(a-2439870-122.1)/365.25),M=Math.floor(365.25*n),i=Math.floor((a-M)/30.6001);var c=Math.floor(a-M-Math.floor(30.6001*i)),l=Math.floor(i-1);l>12&&(l-=12);var d=Math.floor(n-4715);l>2&&--d,0>=d&&--d;var g=Math.floor(24*u),m=Math.floor(60*(24*u-g));f=60*(60*(24*u-g)-m);var D=Math.floor(f);return f-=D,f>.5&&++D,0>d&&(d=-d),JDate=new Date(d,l-1,c,g,m,D),JDate}function P(t){var e=t.getFullYear(),a=t.getMonth()+1,M=e+(a-.5)/12,i=0,s=0;return e>=1600&&1700>e&&(i=M-1600,s=120-.9808*i-.01532*Math.pow(i,2)+Math.pow(i,3)/7129),e>=1700&&1800>e&&(i=M-1700,s=8.83+.1603*i-.0059285*Math.pow(i,2)+13336e-8*Math.pow(i,3)-Math.pow(i,4)/1174e3),e>=1800&&1860>e&&(i=M-1800,s=13.72-.332447*i+.0068612*Math.pow(i,2)+.0041116*Math.pow(i,3)-37436e-8*Math.pow(i,4)+121272e-10*Math.pow(i,5)-1.699e-7*Math.pow(i,6)+8.75e-10*Math.pow(i,7)),e>=1860&&1900>e&&(i=M-1860,s=7.62+.5737*i-.251754*Math.pow(i,2)+.01680668*Math.pow(i,3)-.0004473624*Math.pow(i,4)+Math.pow(i,5)/233174),e>=1900&&1920>e&&(i=M-1900,s=-2.79+1.494119*i-.0598939*Math.pow(i,2)+.0061966*Math.pow(i,3)-197e-6*Math.pow(i,4)),e>=1920&&1941>e&&(i=M-1920,s=21.2+.84493*i-.0761*Math.pow(i,2)+.0020936*Math.pow(i,3)),e>=1941&&1961>e&&(i=M-1950,s=29.07+.407*i-Math.pow(i,2)/233+Math.pow(i,3)/2547),e>=1961&&1986>e&&(i=M-1975,s=45.45+1.067*i-Math.pow(i,2)/260-Math.pow(i,3)/718),e>=1986&&2005>e&&(i=M-2e3,s=63.86+.3345*i-.060374*Math.pow(i,2)+.0017275*Math.pow(i,3)+651814e-9*Math.pow(i,4)+2373599e-11*Math.pow(i,5)),e>=2005&&2050>e&&(i=M-2e3,s=62.92+.32217*i+.005589*Math.pow(i,2)),e>=2050&&2150>e&&(s=-20+32*Math.pow((M-1820)/100,2)-.5628*(2150-M)),e>=2150&&(u=(M-1820)/100,s=-20+32*Math.pow(u,2)),n(s)}function w(t){dateX=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()+Me);var e,a,n,M=dateX.getFullYear(),i=dateX.getMonth()+1,s=dateX.getDate(),o=dateX.getHours(),r=dateX.getMinutes(),h=dateX.getSeconds();if(0==M)return"invalid";if(1582==M&&10==i&&s>4&&15>s)return"invalid";i>2?(e=M,n=i+1):(e=M-1,n=i+13);var u=Math.floor(Math.floor(365.25*e)+Math.floor(30.6001*n)+s+1720995),c=588829;s+31*(i+12*M)>=c&&(a=Math.floor(.01*e),u+=2-a+Math.floor(.25*a));var l=o/24-.5;0>l&&(l+=1,--u);var d=l+(r+h/60)/60/24,g=1e5*(u+d),m=Math.floor(g);return g-m>.5&&++m,m/=1e5,24*m*60*60}function v(t){var e,a,n,M=t.getFullYear(),i=t.getMonth()+1,s=t.getDate(),o=t.getHours(),r=t.getMinutes(),h=t.getSeconds();if(0==M)return"invalid";if(1582==M&&10==i&&s>4&&15>s)return"invalid";i>2?(e=M,n=i+1):(e=M-1,n=i+13);var u=Math.floor(Math.floor(365.25*e)+Math.floor(30.6001*n)+s+1720995),c=588829;s+31*(i+12*M)>=c&&(a=Math.floor(.01*e),u+=2-a+Math.floor(.25*a));var l=o/24-.5;0>l&&(l+=1,--u);var d=l+(r+h/60)/60/24,g=1e5*(u+d),m=Math.floor(g);return g-m>.5&&++m,m/=1e5,Math.round(24*m*60*60)}function z(t){return T=m(t),U=T/100,23*jt+26*$t+21.448*te+(-4680.93*U-1.55*Math.pow(U,2)+1999.25*Math.pow(U,3)-51.38*Math.pow(U,4)-249.67*Math.pow(U,5)+-39.05*Math.pow(U,6)+7.12*Math.pow(U,7)+27.87*Math.pow(U,8)+5.79*Math.pow(U,9)+2.45*Math.pow(U,10))*te}function S(t){epsilon0=z(t);var e=X(t);return deltapsi=e.deltapsi,deltaepsilon=e.deltaepsilon,epsilon0+deltaepsilon}function O(t){return epsilon=S(t),epsilonprime=epsilon+.00256*jt*Math.cos(i(t)),sunLong=s(t),ssl=Math.sin(sunLong),ra=Math.atan2(Math.cos(epsilonprime)*ssl,Math.cos(sunLong)),decl=Math.asin(Math.sin(epsilonprime)*ssl),{ra:ra,decl:decl}}function A(t){T=m(t);var a=(280.46061837+360.98564736629*(v(t)/Bt-2451545)+387933e-9*Math.pow(T,2)-Math.pow(T,3)/3871e4)*jt;return e(a)}function x(t){return hA=X(t),deltapsi=hA.deltapsi,trueObliquity=S(t),correction=deltapsi*Math.cos(trueObliquity),e(A(t)+correction)}function V(t,e){return angle=x(t),angle-e}function b(t,e,a){return V(t,e)-a}function N(t,e,a,n,M){return H=b(t,a,n),Math.atan2(Math.sin(H),Math.tan(e)*Math.cos(M)-Math.sin(M)*Math.cos(H))}function X(t){return T=m(t),D=(297.85036+445267.11148*T-.0019142*Math.pow(T,2)+Math.pow(T,3)/189474)*jt,M=(357.52772+35999.05034*T-1603e-7*Math.pow(T,2)-Math.pow(T,3)/3e5)*jt,MP=(134.96298+477198.867398*T+.0086972*Math.pow(T,2)+Math.pow(T,3)/56250)*jt,F=(93.27191+483202.017538*T-.0036825*Math.pow(T,2)+Math.pow(T,3)/327270)*jt,Omega=(125.04452-1934.136261*T+.0020708*Math.pow(T,2)+Math.pow(T,3)/45e4)*jt,deltapsi=1e-4*te*(+(-171996+-174.2*T)*Math.sin(+Omega)+(-13187+-1.6*T)*Math.sin(-2*D+2*F+2*Omega)+(-2274+-.2*T)*Math.sin(2*F+2*Omega)+(2062+.2*T)*Math.sin(2*Omega)+(1426+-3.4*T)*Math.sin(+M)+(712+.1*T)*Math.sin(+MP)+(-517+1.2*T)*Math.sin(-2*D+M+2*F+2*Omega)+(-386+-.4*T)*Math.sin(2*F+Omega)+-301*Math.sin(+MP+2*F+2*Omega)+(217+-.5*T)*Math.sin(-2*D-1*M+2*F+2*Omega)+-158*Math.sin(-2*D+MP)+(129+.1*T)*Math.sin(-2*D+2*F+Omega)+123*Math.sin(-1*MP+2*F+2*Omega)+63*Math.sin(2*D)+(63+.1*T)*Math.sin(+MP+Omega)+-59*Math.sin(2*D*-1*MP+2*F+2*Omega)+(-58+-.1*T)*Math.sin(-1*MP+Omega)+-51*Math.sin(+MP+2*F+Omega)+48*Math.sin(-2*D+2*MP)+46*Math.sin(-2*MP+2*F+Omega)+-38*Math.sin(2*D+2*F+2*Omega)+-31*Math.sin(2*MP+2*F+2*Omega)+29*Math.sin(2*MP)+29*Math.sin(-2*D+MP+2*F+2*Omega)+26*Math.sin(2*F)+-22*Math.sin(-2*D+2*F)+21*Math.sin(-1*MP+2*F+Omega)+(17+-.1*T)*Math.sin(2*M)+16*Math.sin(2*D-1*MP+Omega)+(-16+.1*T)*Math.sin(-2*D+2*M+2*F+2*Omega)+-15*Math.sin(+M+Omega)+-13*Math.sin(-2*D+MP+Omega)+-12*Math.sin(-1*M+Omega)+11*Math.sin(2*MP-2*F)+-10*Math.sin(2*D-1*MP+2*F+Omega)+-8*Math.sin(2*D+MP+2*F+2*Omega)+7*Math.sin(+M+2*F+2*Omega)+-7*Math.sin(-2*D+M+MP)+-7*Math.sin(-1*M+2*F+2*Omega)+-8*Math.sin(2*D+2*F+Omega)+6*Math.sin(2*D+MP)+6*Math.sin(-2*D+2*MP+2*F+2*Omega)+6*Math.sin(-2*D+MP+2*F+Omega)+-6*Math.sin(2*D-2*MP+Omega)+-6*Math.sin(2*D+Omega)+5*Math.sin(-1*M+MP)+-5*Math.sin(-2*D-1*M+2*F+Omega)+-5*Math.sin(-2*D+Omega)+-5*Math.sin(2*MP+2*F+Omega)+4*Math.sin(-2*D+2*MP+Omega)+4*Math.sin(-2*D+M+2*F+Omega)+4*Math.sin(+MP-2*F)+-4*Math.sin(-1*D+MP)+-4*Math.sin(-2*D+M)+-4*Math.sin(+D)+3*Math.sin(+MP+2*F)+-3*Math.sin(-2*MP+2*F+2*Omega)+-3*Math.sin(-1*D-1*M+MP)+-3*Math.sin(+M+MP)+-3*Math.sin(-1*M+MP+2*F+2*Omega)+-3*Math.sin(2*D-1*M-1*MP+2*F+2*Omega)+-3*Math.sin(3*MP+2*F+2*Omega)+-3*Math.sin(2*D-1*M+2*F+2*Omega)),deltaepsilon=1e-4*te*(+(92025+8.9*T)*Math.cos(+Omega)+(5736+-3.1*T)*Math.cos(-2*D+2*F+2*Omega)+(977+-.5*T)*Math.cos(2*F+2*Omega)+(-895+.5*T)*Math.cos(2*Omega)+(54+-.1*T)*Math.cos(+M)+-7*Math.cos(+MP)+(224+-.6*T)*Math.cos(-2*D+M+2*F+2*Omega)+200*Math.cos(2*F+Omega)+(129+-.1*T)*Math.cos(+MP+2*F+2*Omega)+(-95+.3*T)*Math.cos(-2*D-1*M+2*F+2*Omega)+-70*Math.cos(-2*D+2*F+Omega)+-53*Math.cos(-1*MP+2*F+2*Omega)+-33*Math.cos(+MP+Omega)+26*Math.cos(2*D-1*MP+2*F+2*Omega)+32*Math.cos(-1*MP+Omega)+27*Math.cos(+MP+2*F+Omega)+-24*Math.cos(-2*MP+2*F+Omega)+16*Math.cos(2*D+2*F+2*Omega)+13*Math.cos(2*MP+2*F+2*Omega)+-12*Math.cos(-2*D+MP+2*F+2*Omega)+-10*Math.cos(-1*MP+2*F+Omega)+-8*Math.cos(2*D-1*MP+Omega)+7*Math.cos(-2*D+2*M+2*F+2*Omega)+9*Math.cos(+M+Omega)+7*Math.cos(-2*D+MP+Omega)+6*Math.cos(-1*M+Omega)+5*Math.cos(2*D-1*MP+2*F+Omega)+3*Math.cos(2*D+MP+2*F+2*Omega)+-3*Math.cos(+M+2*F+2*Omega)+3*Math.cos(-1*M+2*F+2*Omega)+3*Math.cos(2*D+2*F+Omega)+-3*Math.cos(-2*D+2*MP+2*F+2*Omega)+-3*Math.cos(-2*D+MP+2*F+Omega)+3*Math.cos(2*D-2*MP+Omega)+3*Math.cos(2*D+Omega)+3*Math.cos(-2*D-1*M+2*F+Omega)+3*Math.cos(-2*D+Omega)+3*Math.cos(2*MP+2*F+Omega)),{deltapsi:deltapsi,deltaepsilon:deltaepsilon}}function y(t,e,a,n,M){return H=b(t,M,e),azimuth=Math.atan2(Math.sin(H),Math.cos(H)*Math.sin(n)-Math.tan(a)*Math.cos(n)),altitude=Math.asin(Math.sin(n)*Math.sin(a)+Math.cos(n)*Math.cos(a)*Math.cos(H)),{azimuth:azimuth,altitude:altitude}}function L(t,e,a,n,M,i,s,o){s=283,o=1010;var r=y(t,e,a,n,M);return azimuth=r.azimuth,altitude=r.altitude,null!=i&&(altitude-=bt(i,altitude)),corrAltitude=altitude+Y(altitude,s,o),{azimuth:azimuth,corrAltitude:corrAltitude}}function Y(t,e,a){return e=283,a=1010,h5=t/jt,v5=(h5+10.3/(h5+5.11))*jt,pressCorr=a/1010*283/e,R=1.02*pressCorr*$t/Math.tan(v5),R}function I(t,e,a){var n=O(t);return sunRA=n.ra,sunDecl=n.decl,y(t,sunRA,sunDecl,e,a)}function _(t,e,a,n,M){n=283,M=1010;var i=O(t);return sunRA=i.ra,sunDecl=i.decl,L(t,sunRA,sunDecl,e,a,g(t),n,M)}function B(t,e,a,n,M,i){M=283,i=1010;var s=new Date(t.getTime());s.setSeconds(t.getSeconds()+1*Ct);var o=_(t,e,a,M,i);azimuth1=o.azimuth,altitude1=o.corrAltitude;var r=_(s,e,a,M,i);azimuth2=r.azimuth,altitude2=r.corrAltitude,altitude1-=n,altitude2-=n;for(var h=0;;){if(h+=1,h>=30)return Ut;var u=1e3,c=altitude1*((t.getTime()-s.getTime())/u)/(altitude1-altitude2),l=new Date(t.getTime());if(l.setSeconds(t.getSeconds()-c),Math.abs(c)<1)return l;s=new Date(t.getTime()),t=new Date(l.getTime()),altitude2=altitude1,rS=_(l,e,a,M,i),azimuth1=rS.azimuth,altitude1=rS.corrAltitude,altitude1-=n}}function C(t,e,a,n){var M=new Date(t.getTime());M.setSeconds(t.getSeconds()+1*Ct);var i=I(t,e,a);azimuth1=i.azimuth,altitude1=i.altitude;var s=I(M,e,a);azimuth2=s.azimuth,altitude2=s.altitude,altitude1-=n,altitude2-=n;for(var o=0;;){if(o+=1,o>=30)return Ut;var r=1e3,h=altitude1*((t.getTime()-M.getTime())/r)/(altitude1-altitude2),u=new Date(t.getTime());if(u.setSeconds(t.getSeconds()-h),Math.abs(h)<1)return u;M=new Date(t.getTime()),t=new Date(u.getTime()),altitude2=altitude1,i=I(u,e,a),azimuth1=i.azimuth,altitude1=i.altitude,altitude1-=n}}function J(t,e,a,n,M,i){M=283,i=1010;var s=new Date(t.getTime());s.setSeconds(t.getSeconds()+5*qt);var o=_(t,e,a,M,i);azimuth1=o.azimuth;var r=_(s,e,a,M,i);azimuth2=r.azimuth,azimuth1-=n,azimuth2-=n;for(var h=0;;){if(h+=1,h>=30)return l;azimuth1>180*Gt&&(azimuth1-=Qt),azimuth1<-180*Gt&&(azimuth1+=Qt),azimuth2>180*Gt&&(azimuth2-=Qt),azimuth2<-180*Gt&&(azimuth2+=Qt),Math.abs(azimuth1-azimuth2)>180*Gt&&(azimuth1<azimuth2?azimuth2-=Qt:azimuth1-=Qt);var u=1e3,c=azimuth1*((t.getTime()-s.getTime())/u)/(azimuth1-azimuth2),l=new Date(t.getTime());if(l.setSeconds(t.getSeconds()-c),Math.abs(c)<1)return l;s=new Date(t.getTime()),t=new Date(l.getTime()),azimuth2=azimuth1,o=_(l,e,a,M,i),azimuth1=o.azimuth,azimuth1-=n}}function W(t,e,a,n,M,i){M=283,i=1010,date2=new Date(t),date2.setMinutes(t.getMinutes()+60);var s=St(t,e,a,M,i);azimuth1=s.azimuth,altitude1=s.corrAltitude;var o=St(date2,e,a,M,i);azimuth2=o.azimuth,altitude2=o.corrAltitude,altitude1-=n,altitude2-=n;for(var r=0;;){if(r+=1,r>=30)return u;var h=1e3;correction=altitude1*((t.getTime()-date2.getTime())/h)/(altitude1-altitude2),correction>24*Jt&&(correction=24*Jt),correction<-24*Jt&&(correction=-24*Jt);var u=new Date(t);if(u.setSeconds(t.getSeconds()-correction),Math.abs(correction)<1)return u;date2=new Date(t),t=new Date(u),altitude2=altitude1,s=St(u,e,a,M,i),azimuth1=s.azimuth,altitude1=s.corrAltitude,altitude1-=n}}function j(t,e){d1=new Date(t-e*ee*1e3);var a=211813441263.46;return k=Math.round((w(d1)-a)/Wt*12.3685)+e,T=k/1236.85,approxDate=p(2451550.09766+29.530588861*k+15437e-8*Math.pow(T,2)-1.5e-7*Math.pow(T,3)+7.3e-10*Math.pow(T,4)),approxDate}function G(t){return e(Tt(t)-s(t))}function Q(t,e){desiredAngle=e*Qt,date1=j(t,e),date2=new Date(date1.getTime()),date2.setSeconds(date1.getSeconds()+5*qt),excess1=G(date1),excess2=G(date2),excess1-desiredAngle>180*Gt&&(excess1-=Qt),excess2-desiredAngle>180*Gt&&(excess2-=Qt),Math.abs(excess1-excess2)>180*Gt&&(excess1<excess2?excess2-=Qt:excess1-=Qt),excess1-=desiredAngle,excess2-=desiredAngle;for(var a=0;;){if(a+=1,a>=30)return i;var n=1e3,M=excess1*((date1.getTime()-date2.getTime())/n)/(excess1-excess2),i=new Date(date1.getTime());if(i.setSeconds(date1.getSeconds()-M),Math.abs(M)<1)return i;date2=new Date(date1.getTime()),date1=new Date(i.getTime()),excess2=excess1,excess1=G(date1),excess1-=desiredAngle,Math.abs(excess1-excess2)>180*Gt&&(excess1<excess2?excess2-=Qt:excess1-=Qt)}return i}function Z(t){return Q(t,0)}function K(t){return Q(t,.5)}function $(t,e,a,n,M,i){M=283,i=1010;var s=new Date(t.getTime());s.setSeconds(t.getSeconds()+5*qt);var o=St(t,e,a,M,i);azimuth1=o.azimuth,altitude1=o.corrAltitude;var r=St(s,e,a,M,i);azimuth2=r.azimuth,altitude2=r.corrAltitude,azimuth1-=n,azimuth2-=n;for(var h=0;;){if(h+=1,h>=30)return l;azimuth1>180*Gt&&(azimuth1-=Qt),azimuth1<-180*Gt&&(azimuth1+=Qt),azimuth2>180*Gt&&(azimuth2-=Qt),azimuth2<-180*Gt&&(azimuth2+=Qt),Math.abs(azimuth1-azimuth2)>180*Gt&&(azimuth1<azimuth2?azimuth2-=Qt:azimuth1-=Qt);var u=1e3,c=azimuth1*((t.getTime()-s.getTime())/u)/(azimuth1-azimuth2),l=new Date(t.getTime());if(l.setSeconds(t.getSeconds()-c),Math.abs(c)<1)return l;s=new Date(t.getTime()),t=new Date(l.getTime()),azimuth2=azimuth1,o=St(l,e,a,M,i),azimuth1=o.azimuth,altitude1=o.corrAltitude,azimuth1-=n}}function tt(t,e,a,n,M){n=283,M=1010,edate=new Date(ht(t,a)),edate.setSeconds(edate.getSeconds()+5.5*Jt);var i=O(edate);ra=i.ra,decl=i.decl;var s=yt(edate,e,a,ra,decl);return rise=s.rise,set=s.set,rise==Ut?Ut:B(rise,e,a,-16*$t,n,M)}function et(t,e,a,n,M){n=283,M=1010,edate=new Date(ht(t,a)),edate.setSeconds(edate.getSeconds()+17.5*Jt);var i=O(edate);ra=i.ra,decl=i.decl;var s=yt(edate,e,a,ra,decl);return rise=s.rise,set=s.set,set==Ut?Ut:B(set,e,a,-16*$t,n,M)}function at(t,e,a,n,M){n=283,M=1010,approxNoon=new Date(ht(t,a)),approxNoon.setSeconds(approxNoon.getSeconds()+12*Jt);var i=_(approxNoon,e,a);return az=i.azimuth,alt=i.corrAltitude,alt>85*Gt&&(e>0*Gt?e+=5*Gt:e-=5*Gt,i=_(approxNoon,e,a),az=i.azimuth,alt=i.corrAltitude),Math.abs(az)<90*Gt?targetAz=0*Gt:targetAz=180*Gt,J(approxNoon,e,a,targetAz,n,M)}function nt(t,e,a){var n=new Date(ht(t,a));return n.setSeconds(n.getSeconds()+5*Ct),C(n,e,a,-6*jt)}function Mt(t,e,a){var n=new Date(ht(t,a));return n.setSeconds(n.getSeconds()+18*Ct),C(n,e,a,-6*jt)}function it(t,e,a){var n=new Date(ht(t,a));return n.setSeconds(n.getSeconds()+4.7*Ct),C(n,e,a,-12*jt)}function st(t,e,a){var n=new Date(ht(t,a));return n.setSeconds(n.getSeconds()+18.3*Ct),C(n,e,a,-12*jt)}function ot(t,e,a){var n=new Date(ht(t,a));return n.setSeconds(n.getSeconds()+4.3*Ct),C(n,e,a,-18*jt)}function rt(t,e,a){var n=new Date(ht(t,a));return n.setSeconds(n.getSeconds()+18.7*Ct),C(n,e,a,-18*jt)}function ht(t,e){var a=new Date(t.getTime()),n=new Date(2003,0,1,0,0,0,0);n.setSeconds(n.getSeconds()+e/(Qt/Bt));var M=new Date(n.getTime()),i=Math.floor((a.getTime()/1e3-n.getTime()/1e3)/Bt)*Bt;return M.setSeconds(M.getSeconds()+i),M}function ut(t){return T=m(t),e((218.3164477+481267.88123421*T-.0015786*Math.pow(T,2)+Math.pow(T,3)/538841-Math.pow(T,4)/65194e3)*jt)}function ct(t){return T=m(t),e((297.8501921+445267.1114034*T-.0018819*Math.pow(T,2)+Math.pow(T,3)/545868-Math.pow(T,4)/113065e3)*jt)}function lt(t){return T=m(t),e((357.5291092+35999.0502909*T-1536e-7*Math.pow(T,2)+Math.pow(T,2)/2449e4)*jt)}function dt(t){return T=m(t),e((134.9633964+477198.8675055*T+.0087414*Math.pow(T,2)+Math.pow(T,3)/69699-Math.pow(T,4)/14712e3)*jt)}function gt(t){return T=m(t),e((93.272095+483202.0175233*T-.0036539*Math.pow(T,2)-Math.pow(T,3)/3526e3+Math.pow(T,4)/86331e4)*jt)}function mt(t){return T=m(t),e((119.75+131.849*T)*jt)}function Dt(t){return T=m(t),e((53.09+479264.29*T)*jt)}function pt(t){return T=m(t),e((313.45+481266.484*T)*jt)}function Pt(t){return T=m(t),1-.002516*T-74e-7*Math.pow(T,2)}function wt(t){return D=ct(t),M=lt(t),MP=dt(t),F=gt(t),E=Pt(t),LP=ut(t),sumL=6288774*Math.sin(+MP)+1274027*Math.sin(2*D-MP)+658314*Math.sin(2*D)+213618*Math.sin(2*MP)+-185116*E*Math.sin(+M)+-114332*Math.sin(2*F)+58793*Math.sin(2*D-2*MP)+57066*E*Math.sin(2*D-M-MP)+53322*Math.sin(2*D+MP)+45758*E*Math.sin(2*D-M)+-40923*E*Math.sin(+M-MP)+-34720*Math.sin(+D)+-30383*E*Math.sin(+M+MP)+15327*Math.sin(2*D-2*F)+-12528*Math.sin(+MP+2*F)+10980*Math.sin(+MP-2*F)+10675*Math.sin(4*D-MP)+10034*Math.sin(3*MP)+8548*Math.sin(4*D-2*MP)+-7888*E*Math.sin(2*D+M-MP)+-6766*E*Math.sin(2*D+M)+-5163*Math.sin(+D-MP)+4987*E*Math.sin(+D+M)+4036*E*Math.sin(2*D-M+MP)+3994*Math.sin(2*D+2*MP)+3861*Math.sin(4*D)+3665*Math.sin(2*D-3*MP)+-2689*E*Math.sin(+M-2*MP)+-2602*Math.sin(2*D-MP+2*F)+2390*E*Math.sin(2*D-M-2*MP)+-2348*Math.sin(+D+MP)+2236*Math.pow(E,2)*Math.sin(2*D-2*M)+-2120*E*Math.sin(+M+2*MP)+-2069*Math.pow(E,2)*Math.sin(2*M)+2048*Math.pow(E,2)*Math.sin(2*D-2*M-MP)+-1773*Math.sin(2*D+MP-2*F)+-1595*Math.sin(2*D+2*F)+1215*E*Math.sin(4*D-M-MP)+-1110*Math.sin(2*MP+2*F)+-892*Math.sin(3*D-MP)+-810*E*Math.sin(2*D+M+MP)+759*E*Math.sin(4*D-M-2*MP)+-713*Math.pow(E,2)*Math.sin(2*M-MP)+-700*Math.pow(E,2)*Math.sin(2*D+2*M-MP)+691*E*Math.sin(2*D+M-2*MP)+596*E*Math.sin(2*D-M-2*F)+549*Math.sin(4*D+MP)+537*Math.sin(4*MP)+520*E*Math.sin(4*D-M)+-487*Math.sin(+D-2*MP)+-399*E*Math.sin(2*D+M-2*F)+-381*Math.sin(2*MP-2*F)+351*E*Math.sin(+D+M+MP)+-340*Math.sin(3*D-2*MP)+330*Math.sin(4*D-3*MP)+327*E*Math.sin(2*D-M+2*MP)+-323*Math.pow(E,2)*Math.sin(2*M+MP)+299*E*Math.sin(+D+M-MP)+294*Math.sin(2*D+3*MP),sumL=sumL+3958*Math.sin(mt(t))+1962*Math.sin(LP-F)+318*Math.sin(Dt(t)),sumL}function ft(t){return ut(t)+wt(t)/1e6*jt}function Tt(t){var e=X(t);return deltaPsi=e.deltapsi,deltaEpsilon=e.deltaepsilon,ft(t)+deltaPsi}function Ft(t){return D=ct(t),M=lt(t),MP=dt(t),F=gt(t),E=Pt(t),LP=ut(t),sumR=-20905355*Math.cos(+MP)+-3699111*Math.cos(2*D-MP)+-2955968*Math.cos(2*D)+-569925*Math.cos(2*MP)+48888*E*Math.cos(+M)+-3149*Math.cos(2*F)+246158*Math.cos(2*D-2*MP)+-152138*E*Math.cos(2*D-M-MP)+-170733*Math.cos(2*D+MP)+-204586*E*Math.cos(2*D-M)+-129620*E*Math.cos(+M-MP)+108743*Math.cos(+D)+104755*E*Math.cos(+M+MP)+10321*Math.cos(2*D-2*F)+79661*Math.cos(+MP-2*F)+-34782*Math.cos(4*D-MP)+-23210*Math.cos(3*MP)+-21636*Math.cos(4*D-2*MP)+24208*E*Math.cos(2*D+M-MP)+30824*E*Math.cos(2*D+M)+-8379*Math.cos(+D-MP)+-16675*E*Math.cos(+D+M)+-12831*E*Math.cos(2*D-M+MP)+-10445*Math.cos(2*D+2*MP)+-11650*Math.cos(4*D)+14403*Math.cos(2*D-3*MP)+-7003*E*Math.cos(+M-2*MP)+10056*E*Math.cos(2*D-M-2*MP)+6322*Math.cos(+D+MP)+-9884*Math.pow(E,2)*Math.cos(2*D-2*M)+5751*E*Math.cos(+M+2*MP)+-4950*Math.pow(E,2)*Math.cos(2*D-2*M-MP)+4130*Math.cos(2*D+MP-2*F)+-3958*E*Math.cos(4*D-M-MP)+3258*Math.cos(3*D-MP)+2616*E*Math.cos(2*D+M+MP)+-1897*E*Math.cos(4*D-M-2*MP)+-2117*Math.pow(E,2)*Math.cos(2*M-MP)+2354*Math.pow(E,2)*Math.cos(2*D+2*M-MP)+-1423*Math.cos(4*D+MP)+-1117*Math.cos(4*MP)+-1571*E*Math.cos(4*D-M)+-1739*Math.cos(+D-2*MP)+-4421*Math.cos(2*MP-2*F)+1165*Math.pow(E,2)*Math.cos(2*M+MP)+8752*Math.cos(2*D-MP-2*F),385000560+sumR}function vt(t){return D=ct(t),M=lt(t),MP=dt(t),F=gt(t),E=Pt(t),LP=ut(t),A1=mt(t),sumB=5128122*Math.sin(+F)+280602*Math.sin(+MP+F)+277693*Math.sin(+MP-F)+173237*Math.sin(2*D-F)+55413*Math.sin(2*D-MP+F)+46271*Math.sin(2*D-MP-F)+32573*Math.sin(2*D+F)+17198*Math.sin(2*MP+F)+9266*Math.sin(2*D+MP-F)+8822*Math.sin(2*MP-F)+8216*E*Math.sin(2*D-M-F)+4324*Math.sin(2*D-2*MP-F)+4200*Math.sin(2*D+MP+F)+-3359*E*Math.sin(2*D+M-F)+2463*E*Math.sin(2*D-M-MP+F)+2211*E*Math.sin(2*D-M+F)+2065*E*Math.sin(2*D-M-MP-F)+-1870*E*Math.sin(+M-MP-F)+1828*Math.sin(4*D-MP-F)+-1794*E*Math.sin(+M+F)+-1749*Math.sin(3*F)+-1565*E*Math.sin(+M-MP+F)+-1491*Math.sin(+D+F)+-1475*E*Math.sin(+M+MP+F)+-1410*E*Math.sin(+M+MP-F)+-1344*E*Math.sin(+M-F)+-1335*Math.sin(+D-F)+1107*Math.sin(3*MP+F)+1021*Math.sin(4*D-F)+833*Math.sin(4*D-MP+F)+777*Math.sin(+MP-3*F)+671*Math.sin(4*D-2*MP+F)+607*Math.sin(2*D-3*F)+596*Math.sin(2*D+2*MP-F)+491*E*Math.sin(2*D-M+MP-F)+-451*Math.sin(2*D-2*MP+F)+439*Math.sin(3*MP-F)+422*Math.sin(2*D+2*MP+F)+421*Math.sin(2*D-3*MP-F)+-366*E*Math.sin(2*D+M-MP+F)+-351*E*Math.sin(2*D+M+F)+331*Math.sin(4*D+F)+315*E*Math.sin(2*D-M+MP+F)+302*Math.pow(E,2)*Math.sin(2*D-2*M-F)+-283*Math.sin(+MP+3*F)+-229*E*Math.sin(2*D+M+MP-F)+223*E*Math.sin(+D+M-F)+223*E*Math.sin(+D+M+F)+-220*E*Math.sin(+M-2*MP-F)+-220*E*Math.sin(2*D+M-MP-F)+-185*Math.sin(+D+MP+F)+181*E*Math.sin(2*D-M-2*MP-F)+-177*E*Math.sin(+M+2*MP+F)+176*Math.sin(4*D-2*MP-F)+166*E*Math.sin(4*D-M-MP-F)+-164*Math.sin(+D+MP-F)+132*Math.sin(4*D+MP-F)+-119*Math.sin(+D-MP-F)+115*E*Math.sin(4*D-M-F)+107*Math.pow(E,2)*Math.sin(2*D-2*M+F),sumB=sumB-2235*Math.sin(LP)+382*Math.sin(pt(t))+175*Math.sin(A1-F)+175*Math.sin(A1+F)+127*Math.sin(LP-MP)-115*Math.sin(LP+MP),sumB/1e6*jt}function zt(t){return epsilon=S(t),moonLong=Tt(t),moonLat=vt(t),se=Math.sin(epsilon),ce=Math.cos(epsilon),sm=Math.sin(moonLong),ra=Math.atan2(sm*ce-Math.tan(moonLat)*se,Math.cos(moonLong)),decl=Math.asin(Math.sin(moonLat)*ce+Math.cos(moonLat)*Math.sin(epsilon)*sm),{ra:ra,decl:decl}}function St(t,e,a,n,M){n=283,M=1010;var i=zt(t);return moonRA=i.ra,moonDecl=i.decl,L(t,moonRA,moonDecl,e,a,Ft(t),n,M)}function Et(t){return Math.acos(Math.cos(vt(t))*Math.cos(Tt(t)-r(t)))}function Ot(e){return R=g(e),delta=Ft(e),phi=Et(e),t(Math.atan(R*Math.sin(phi)/(delta-R*Math.cos(phi))))}function At(t){return(1+Math.cos(Ot(t)))/2}function xt(t){var e=O(t);alpha0=e.ra,delta0=e.decl;var a=zt(t);return alpha=a.ra,delta=a.decl,Math.atan2(Math.cos(delta0)*Math.sin(alpha0-alpha),Math.sin(delta0)*Math.cos(delta)-Math.cos(delta0)*Math.sin(delta)*Math.cos(alpha0-alpha))}function Vt(t,e,a){chi=xt(t);var n=zt(t);return ra=n.ra,decl=n.decl,q=N(t,e,a,ra,decl),chi-q}function bt(t,e){return azParallax=Math.asin(Kt/t),altParallax=Math.asin(Math.sin(azParallax)*Math.cos(e)),altParallax}function Nt(t,e,a){m0=(a-V(t,e))/(360*Gt/Bt),m0%=24*Jt,m0>12*Jt&&(m0-=24*Jt),m0<-12*Jt&&(m0+=24*Jt);var n=new Date(t);return n.setSeconds(t.getSeconds()+m0),n}function Xt(t,e,a){return a=-.5667*Gt,cosH0=(Math.sin(a)-Math.sin(t)*Math.sin(e))/(Math.cos(t)*Math.cos(e)),Math.abs(cosH0)>1?Ut:Math.acos(cosH0)%(180*Gt)}function yt(t,e,a,n,M){return h0=-.5667*Gt,transit=Nt(t,a,n,M),H0=Xt(e,M,h0),H0==Ut?{rise:Ut,set:Ut}:(Htime=H0/(360*Gt/Bt),rise=new Date(transit),set=new Date(transit),rise.setSeconds(transit.getSeconds()-Htime),set.setSeconds(transit.getSeconds()+Htime),{rise:rise,set:set})}function Lt(t,e,a,n,M){n=283,M=1010;var i=zt(t);ra=i.ra,decl=i.decl;var s=yt(t,e,a,ra,decl);return rise=s.rise,set=s.set,rise==Ut?Ut:W(rise,e,a,-16*$t,n,M)}function Rt(t,e,a,n,M){n=283,M=1010;var i=zt(t);ra=i.ra,decl=i.decl;var s=yt(t,e,a,ra,decl);return rise=s.rise,set=s.set,set==Ut?Ut:W(set,e,a,-16*$t,n,M)}function Ht(t,e,a,n,M){n=283,M=1010;var i=new Date(t),s=zt(i);moonRA=s.ra,moonDecl=s.decl,approxTransitX=Nt(i,a,moonRA,moonDecl);var o=St(approxTransitX,e,a);return az=o.azimuth,alt=o.corrAltitude,alt>85*Gt&&(e>0*Gt?e+=5*Gt:e-=5*Gt,o=St(approxTransitX,e,a),az=o.azimuth,alt=o.corrAltitude),Math.abs(az)<90*Gt?targetAz=0*Gt:targetAz=180*Gt,$(approxTransitX,e,a,targetAz,n,M)}function Yt(t,e){return DateR=new Date(t),DateR.setMinutes(t.getMinutes()+e),DateR}var It=Math.PI,Ut="undef",_t=315576e4,kt=86400,Bt=86400,Ct=3600,Jt=3600,qt=60,Wt=31556925.9746784,jt=It/180,Gt=.017453292519943295,Qt=6.283185307179586,Zt=149597870700,Kt=6378137,$t=.0002908882086657216,te=484813681109536e-20,ee=2551439.9952,ae=180/It,ne=It/180,Me=0,ie=new Object;ie.getMoonSecInfo=function(t,n,M,i,s){var t=new Date(t.getTime());M=-1*M,t.setMinutes(t.getMinutes()-i),Me=P(t);var o=t,r=n*jt,h=M*jt,u=v(o),c=w(o),l=c/24/60/60,d=St(o,r,h),g=_(o,r,h),D=d.azimuth,p=d.corrAltitude,f=d.azimuth*ae+180,T=d.corrAltitude*ae,F=m(o),z=e(Vt(o,r,h))*ae,S=360-z,E=Ft(o)/1e3,O=At(o),A=Ot(o),x=g.corrAltitude*ae;newMoonX=new Date(Z(o.getTime())),newMoonX.getTime()<o.getTime()?(prevNewMoon=new Date(newMoonX.getTime()),nextNewMoonX=new Date(o.getTime()),nextNewMoonX.setSeconds(o.getSeconds()+ee),nextNewMoon=new Date(Z(nextNewMoonX))):(prevNewMoonX=new Date(o.getTime()),prevNewMoonX.setSeconds(o.getSeconds()-ee),prevNewMoon=new Date(Z(prevNewMoonX)),nextNewMoon=new Date(newMoonX.getTime())),fullMoonX=new Date(K(o.getTime())),fullMoonX.getTime()<o.getTime()?(prevFullMoon=new Date(fullMoonX.getTime()),nextFullMoonX=new Date(o.getTime()),nextFullMoonX.setSeconds(o.getSeconds()+ee),nextFullMoon=new Date(K(nextFullMoonX))):(prevFullMoonX=new Date(o.getTime()),prevFullMoonX.setSeconds(o.getSeconds()-ee),prevFullMoon=new Date(K(prevFullMoonX)),nextFullMoon=new Date(fullMoonX.getTime()));var V=(o.getTime()-prevNewMoon.getTime())/1e3/60/60/24,b=(nextNewMoon.getTime()-prevNewMoon.getTime())/1e3/60/60/24,N=G(o),X=G(o)/(2*It);if("en"==s)var y=new Array("New Moon","Waxing Crescent","First Quarter","Waxing Gibbous","Full Moon","Waning Gibbous","Third Quarter","Waning Crescent","New Moon");else var y=new Array("Neumond","Zunehmende Sichel","Erstes Viertel","Zunehmender Mond","Vollmond","Abnehmender Mond","Letztes Viertel","Abnehmende Sichel","Neumond");var L=1/29.53*360*ne,R=a(N,90*ne);R=L>R||R>90*ne-L?2*Math.round(N/(90*ne)):2*Math.floor(N/(90*ne))+1;var H=y[R];return{DateUTC:o,DeltaT:Me,MeeusT:F,JD:u,JDE:c,JDED:l,latNum:r,longNum:h,Azimuth_Rad:D,Altitude_Rad:p,Azimuth_Deg:f,Altitude_Deg:T,Distance:E,Limb:z,ClockwiseLimb:S,IlluminatedFraction:O,PhaseAngle:A,nextNewMoon:Yt(nextNewMoon,i),nextFullMoon:Yt(nextFullMoon,i),prevNewMoon:Yt(prevNewMoon,i),prevFullMoon:Yt(prevFullMoon,i),LunationDuration:b,Age:V,PhaseAge:N,PhaseDescription:H,Phase0to1:X,SunAltitude_Deg:x}},ie.getSunSecInfo=function(t,e,a,n){var t=new Date(t.getTime());a=-1*a,t.setMinutes(t.getMinutes()-n),Me=P(t);var M=t,i=e*jt,s=a*jt,o=_(M,i,s),r=o.corrAltitude*ae,h=o.azimuth*ae+180,u=o.corrAltitude,c=o.azimuth,l=g(M)/1e3;return{Azimuth_Rad:c,Altitude_Rad:u,Azimuth_Deg:h,Altitude_Deg:r,DeltaT:Me,Distance:l}},ie.getMoonDayInfo=function(t,e,a,n){var t=new Date(t.getTime()),M=new Date(t.getFullYear(),t.getMonth(),t.getDate(),12,0,0,0);a=-1*a,t.setMinutes(t.getMinutes()-n),Me=P(t);var i=e*jt,s=a*jt,o=0;o=0>n?1*Bt:-1*Bt;var r=Lt(M,i,s);r!=Ut&&(r=Yt(r,n),r.getDate()!=M.getDate()&&(dateV=new Date(M.getTime()),r.getMonth()==M.getMonth()?r.getDate()>M.getDate()?dateV.setSeconds(dateV.getSeconds()-Bt):dateV.setSeconds(dateV.getSeconds()+Bt):r.getFullYear()==M.getFullYear()?r.getMonth()>M.getMonth()?dateV.setSeconds(dateV.getSeconds()-Bt):dateV.setSeconds(dateV.getSeconds()+Bt):r.getFullYear()>M.getFullYear()?dateV.setSeconds(dateV.getSeconds()-Bt):dateV.setSeconds(dateV.getSeconds()+Bt),r=Lt(dateV,i,s),r=Yt(r,n)),r!=Ut&&r.getDate()!=M.getDate()&&(r="< 00:00"));var h=Rt(M,i,s);h!=Ut&&(h=Yt(h,n),h.getDate()!=M.getDate()&&(dateV=new Date(M.getTime()),h.getMonth()==M.getMonth()?h.getDate()>M.getDate()?dateV.setSeconds(dateV.getSeconds()-Bt):dateV.setSeconds(dateV.getSeconds()+Bt):h.getFullYear()==M.getFullYear()?h.getMonth()>M.getMonth()?dateV.setSeconds(dateV.getSeconds()-Bt):dateV.setSeconds(dateV.getSeconds()+Bt):h.getFullYear()>M.getFullYear()?dateV.setSeconds(dateV.getSeconds()-Bt):dateV.setSeconds(dateV.getSeconds()+Bt),h=Rt(dateV,i,s),h=Yt(h,n)),h!=Ut&&h.getDate()!=M.getDate()&&(h="> 23:59"));var u=Ut,u=Ht(M,i,s);u!=Ut&&(u=Yt(u,n),u.getDate()!=M.getDate()&&(dateV=new Date(M.getTime()),dateV.setSeconds(dateV.getSeconds()+o),u=Ht(dateV,i,s),u=Yt(u,n)),u!=Ut&&u.getDate()!=M.getDate()&&(u=Ut));var c=Ut;if(u!=Ut){var l=St(u,i,s);c=l.corrAltitude*ae}else{var d=Ht(M,i,s),l=St(d,i,s);c=l.corrAltitude*ae}return r==Ut&&h==Ut&&c>0&&(r="circumpolar",h="circumpolar"),r==Ut&&h==Ut&&0>c&&(r="never rises",h="never rises"),{Set:h,Rise:r,Transit:u,TransitAltitude:c,DeltaT:Me}},ie.getSunDayInfo=function(t,e,a,n){if(n>=720)var M=10;else if(-720>=n)var M=14;else var M=12;var t=new Date(t.getTime()),i=new Date(t.getFullYear(),t.getMonth(),t.getDate(),M,0,0,0);a=-1*a,t.setMinutes(t.getMinutes()-n),Me=P(t);var s=e*jt,o=a*jt,r=tt(i,s,o),h=at(i,s,o),u=et(i,s,o);r!=Ut&&(r=Yt(r,n),r.getDate()!=i.getDate()&&(r=Ut)),u!=Ut&&(u=Yt(u,n),u.getDate()!=i.getDate()&&(u=Ut));var c=Ut;if(h!=Ut)var l=_(h,s,o),c=l.corrAltitude*ae;var d=0;if(u!=Ut&&r!=Ut){d=(u.getTime()-r.getTime())/1e3;var g=parseInt(d/3600),m=parseInt((d-3600*g)/60),D=Math.floor(d-(3600*g+60*m));d=g+"h"+m+"m"+D+"s"}var p=Ut,w=Ut,f=Ut,T=Ut,F=Ut,v=Ut;if(r!=Ut&&(p=nt(i,s,o),f=it(i,s,o),F=ot(i,s,o)),u!=Ut&&(w=Mt(i,s,o),T=st(i,s,o),v=rt(i,s,o)),h!=Ut&&(h=Yt(h,n)),r==Ut&&u==Ut&&c>0&&(r="circumpolar",u="circumpolar",d="24h0m0s"),r==Ut&&u==Ut&&0>c&&(r="never rises",u="never rises",d="0h0m0s"),r==Ut&&u!=Ut){r="< 00:00";var z=new Date(u);z.setHours(0),z.setMinutes(0),z.setSeconds(0),d=(u.getTime()-z.getTime())/1e3;var g=parseInt(d/3600),m=parseInt((d-3600*g)/60),D=Math.floor(d-(3600*g+60*m));d=g+"h"+m+"m"+D+"s"}if(u==Ut&&r!=Ut){u="> 23:59";var S=new Date(r);S.setHours(23),S.setMinutes(59),S.setSeconds(59),d=(S.getTime()-r.getTime())/1e3+1;var g=parseInt(d/3600),m=parseInt((d-3600*g)/60),D=Math.floor(d-(3600*g+60*m));d=g+"h"+m+"m"+D+"s"}return p!=Ut&&(p=Yt(p,n),p.getDate()!=i.getDate()&&(p=Ut)),w!=Ut&&(w=Yt(w,n),w.getDate()!=i.getDate()&&(w=Ut)),f!=Ut&&(f=Yt(f,n),f.getDate()!=i.getDate()&&(f=Ut)),T!=Ut&&(T=Yt(T,n),T.getDate()!=i.getDate()&&(T=Ut)),F!=Ut&&(F=Yt(F,n),F.getDate()!=i.getDate()&&(F=Ut)),v!=Ut&&(v=Yt(v,n),v.getDate()!=i.getDate()&&(v=Ut)),{AstronomicalTwilightBegin:F,NauticalTwilightBegin:f,CivilTwilightBegin:p,Rise:r,Transit:h,Set:u,CivilTwilightEnd:w,NauticalTwilightEnd:T,AstronomicalTwilightEnd:v,DaylightDuration:d,TransitAltitude:c,DeltaT:Me}},ie.drawMoon=function(t){function e(e){var a,n=[];.25>=e?(n=[1,0],a=20-20*e*4):.5>=e?(n=[0,0],a=20*(e-.25)*4):.75>=e?(n=[1,1],a=20-20*(e-.5)*4):1>=e?(n=[0,1],a=20*(e-.75)*4):exit;var M="m"+t.r+",0 ";return M=M+"a"+a+",20 0 0,"+n[0]+" 0,"+2*t.r+" ",M=M+"a20,20 0 0,"+n[1]+" 0,-"+2*t.r}if(t=t||{},document.getElementById(t.el).innerHTML="",t.r="number"==typeof t.r?t.r:100,t.phase="number"==typeof t.phase?t.phase:.25,t.angel="number"==typeof t.angel?t.angel:90,t.altitude="number"==typeof t.altitude?t.altitude:0,t.x="number"==typeof t.x?t.x:0,t.y="number"==typeof t.y?t.y:0,t.altitude<=-.25)var a="#727301",n="#606060";else var a="#fbfc99",n="#999999";if(t.el&&"string"==typeof t.el)var M=Raphael(t.el,2*t.r,2*t.r);else if(t.el&&"object"==typeof t.el&&t.el.canvas)var M=t.el;else var M=Raphael(0,0,2*t.r,2*t.r);var i=(M.circle(t.r+t.x,t.r+t.y,t.r).attr({"stroke-width":0,stroke:"#000000",fill:n}),M.path(e(t.phase)).attr({"stroke-width":0,stroke:"#999",fill:a}).transform("T"+t.x+","+t.y));return t.angel<0&&(t.angel=0),t.angel>360&&(t.angel=360),t.phase>.5?i.rotate(t.angel+90,t.r,t.r):i.rotate(t.angel-90,t.r,t.r),{setPhase:function(t){i.attr("path",e(t))}}},"function"==typeof define&&define.amd?define(ie):"undefined"!=typeof module?module.exports=ie:window.SoMo=ie}();